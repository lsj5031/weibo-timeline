<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Weibo Timeline UX Test</title>
  <style>
    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:#020617;
      margin:0;
      padding:0;
      color:#e5e7eb;
      min-height:100vh;
    }
    .toggle-panel{
      position:fixed;
      top:20px;
      right:20px;
      z-index:1000;
    }
    .toggle-btn{
      padding:8px 16px;
      border:1px solid rgba(148,163,184,0.3);
      border-radius:6px;
      background:rgba(37,99,235,0.1);
      color:#e5e7eb;
      cursor:pointer;
      font-size:12px;
      transition:all 0.2s;
    }
    .toggle-btn:hover{
      background:rgba(37,99,235,0.2);
      border-color:rgba(148,163,184,0.5);
    }
    .top-panel{
      position:fixed;
      top:0;
      left:0;
      right:0;
      background:rgba(2,6,23,0.95);
      backdrop-filter:blur(10px);
      border-bottom:1px solid rgba(148,163,184,0.2);
      padding:20px;
      z-index:999;
      transform:translateY(-100%);
      transition:transform 0.3s ease-in-out;
      max-height:70vh;
      overflow-y:auto;
    }
    .top-panel.visible{
      transform:translateY(0);
    }
    .wrap{
      width:100%;
      max-width:none;
      padding:20px;
      padding-top:80px;
    }
    #list{
      columns:4 320px;
      column-gap:16px;
      margin-top:0;
    }
    .item{
      background:#020617;
      border-radius:14px;
      padding:12px;
      border:1px solid rgba(148,163,184,0.25);
      box-shadow:0 6px 20px rgba(15,23,42,0.6);
      break-inside:avoid;
      margin-bottom:16px;
      transition:all 0.2s;
    }
    .item:hover{
      border-color:rgba(248,250,252,0.6);
      transform:translateY(-2px);
      box-shadow:0 8px 25px rgba(15,23,42,0.8);
    }
    .meta{
      font-size:11px;
      color:#9ca3af;
      margin-bottom:6px;
      display:flex;
      gap:6px;
      align-items:center;
      flex-wrap:wrap;
    }
    .meta .name{
      font-weight:500;
      color:#e5e7eb;
    }
    .text{
      font-size:13px;
      line-height:1.5;
      color:#e5e7eb;
      margin-bottom:8px;
    }
    .actions{
      display:flex;
      justify-content:flex-end;
    }
    .actions a{
      font-size:11px;
      padding:4px 10px;
      border-radius:999px;
      border:1px solid rgba(59,130,246,0.8);
      text-decoration:none;
      color:#bfdbfe;
      background:rgba(37,99,235,0.1);
      transition:all 0.2s;
    }
    .actions a:hover{
      background:rgba(37,99,235,0.18);
      border-color:rgba(191,219,254,1);
    }
    @media (max-width:1200px){
      #list{
        columns:3 280px;
      }
    }
    @media (max-width:900px){
      #list{
        columns:2 320px;
      }
      .wrap{
        padding:16px;
        padding-top:80px;
      }
    }
    @media (max-width:600px){
      #list{
        columns:1;
      }
      .wrap{
        padding:12px;
        padding-top:80px;
      }
    }
  </style>
</head>
<body>
  <div class="toggle-panel">
    <button class="toggle-btn" onclick="toggleTopPanel()">☰ Dashboard</button>
  </div>
  
  <div class="top-panel" id="topPanel">
    <div class="wrap">
      <h1>Weibo Timeline</h1>
      <div class="subtitle">
        Following 129 accounts. This archive lives only in your browser.<br>
        Auto-refresh: ~once per hour, one account every ~5 seconds.
      </div>
      <div id="uid-status">
        <span class="uid-status-item valid">Valid: 85</span>
        <span class="uid-status-item invalid">Invalid: 12</span>
        <span class="uid-status-item stalled">Stalled: 8</span>
        <span class="uid-status-item unknown">Unknown: 24</span>
      </div>
      <div class="controls">
        <button onclick="validateAllUids()">Validate All UIDs</button>
        <button onclick="exportUidHealth()">Export UID Health</button>
        <button onclick="showUidManagement()">Manage UIDs</button>
        <button onclick="clearInvalidUids()">Clear Invalid UIDs</button>
      </div>
      <div id="status">Status: Idle. Next full refresh in about 45 minutes.</div>
      <div id="log">
[12:34:56] Dashboard opened {"accounts":129,"storedEntries":1247}
[12:34:57] CycleStart {"at":"2024-11-21T12:34:57.123Z","startIndex":1,"totalAccounts":129}
[12:34:58] PROCESS_START {"uid":"1052404565"}
      </div>
    </div>
  </div>
  
  <div class="wrap">
    <div id="list">
      <!-- Sample content cards for testing masonry layout -->
      <div class="item">
        <div class="meta">
          <span class="name">用户A</span>
          <span class="dot">•</span>
          <span class="time">2分钟前</span>
        </div>
        <div class="text">这是一条测试微博内容，用来展示masonry布局的效果。内容比较短。</div>
        <div class="actions">
          <a href="#" target="_blank">Open on Weibo ↗</a>
        </div>
      </div>
      
      <div class="item">
        <div class="meta">
          <span class="name">用户B</span>
          <span class="dot">•</span>
          <span class="time">15分钟前</span>
        </div>
        <div class="text">这是一条比较长的测试微博内容，用来展示masonry布局中不同高度卡片的效果。当内容比较长的时候，卡片会自动变高，而masonry布局会智能地排列这些卡片，确保空间利用率最大化。这样可以展示更多的内容，同时保持良好的视觉效果。</div>
        <div class="actions">
          <a href="#" target="_blank">Open on Weibo ↗</a>
        </div>
      </div>
      
      <div class="item">
        <div class="meta">
          <span class="name">用户C</span>
          <span class="dot">•</span>
          <span class="time">1小时前</span>
        </div>
        <div class="text">中等长度的内容测试。</div>
        <div class="actions">
          <a href="#" target="_blank">Open on Weibo ↗</a>
        </div>
      </div>
      
      <div class="item">
        <div class="meta">
          <span class="name">用户D</span>
          <span class="dot">•</span>
          <span class="time">2小时前</span>
        </div>
        <div class="text">这是另一条长内容测试，用来验证masonry布局在不同内容长度下的表现。masonry布局是一种非常流行的网页布局方式，特别适合展示卡片式的内容，如Pinterest风格的图片墙或者社交媒体的信息流。</div>
        <div class="actions">
          <a href="#" target="_blank">Open on Weibo ↗</a>
        </div>
      </div>
      
      <div class="item">
        <div class="meta">
          <span class="name">用户E</span>
          <span class="dot">•</span>
          <span class="time">3小时前</span>
        </div>
        <div class="text">短内容。</div>
        <div class="actions">
          <a href="#" target="_blank">Open on Weibo ↗</a>
        </div>
      </div>
      
      <div class="item">
        <div class="meta">
          <span class="name">用户F</span>
          <span class="dot">•</span>
          <span class="time">5小时前</span>
        </div>
        <div class="text">这条内容长度适中，用来测试整体的布局效果。</div>
        <div class="actions">
          <a href="#" target="_blank">Open on Weibo ↗</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    function toggleTopPanel() {
      const panel = document.getElementById('topPanel');
      if (panel.classList.contains('visible')) {
        panel.classList.remove('visible');
      } else {
        panel.classList.add('visible');
      }
    }
  </script>
</body>
</html>